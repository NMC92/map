<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Portugal</title>
		<script src="https://d3js.org/d3.v5.min.js"></script>
		<script src="https://d3js.org/d3-zoom.v1.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
		<div id="mapdiv">
			<object class="map" id="svgmap" type="image/svg+xml" data="map.svg" display="flex" >
			</object>
			<span id="span"></span>
			<button type="button" id="reset" >Reset</button>
		</div>
		<script>
			setTimeout(function(){
				
				const width = 250;
				const height = 366;
				const a = document.getElementById("svgmap");
				const svgDoc = a.contentDocument;
				const Distritos = svgDoc.getElementsByClassName('Distritos');
				const Concelhos = svgDoc.getElementsByClassName('Concelhos');
				const Aveiro = svgDoc.getElementsByClassName('Aveiro');
				const Beja = svgDoc.getElementsByClassName('Beja');
				const Braga = svgDoc.getElementsByClassName('Braga');
				const Braganca = svgDoc.getElementsByClassName('Braganca');
				const CB = svgDoc.getElementsByClassName('CB');
				const Coimbra = svgDoc.getElementsByClassName('Coimbra');
				const Evora = svgDoc.getElementsByClassName('Evora');
				const Faro = svgDoc.getElementsByClassName('Faro');
				const Guarda = svgDoc.getElementsByClassName('Guarda');
				const Leiria = svgDoc.getElementsByClassName('Leiria');
				const Lisboa = svgDoc.getElementsByClassName('Lisboa');
				const Portalegre = svgDoc.getElementsByClassName('Portalegre');
				const Porto = svgDoc.getElementsByClassName('Porto');
				const Santarem = svgDoc.getElementsByClassName('Santarem');
				const Setubal = svgDoc.getElementsByClassName('Setubal');
				const VC = svgDoc.getElementsByClassName('VC');
				const VR = svgDoc.getElementsByClassName('VR');
				const Viseu = svgDoc.getElementsByClassName('Viseu');
				
				const aveiro = [];
				const beja = [];
				const braga = [];
				const braganca = [];
				const cb = [];
				const coimbra = [];
				const evora = [];
				const faro = [];
				const guarda = [];
				const leiria = [];
				const lisboa = [];
				const portalegre = [];
				const porto = [];
				const santarem = [];
				const setubal = [];
				const vc = [];
				const vr = [];
				const viseu = [];
				
				const mapdiv = document.getElementById("mapdiv");
				const span = document.getElementById("span");
				const btn = document.getElementById("reset");
				
				for(let i = 0; i < Aveiro.length; i++)
				{
					aveiro.push(Aveiro[i].attributes[0].value);
					Aveiro[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < Beja.length; i++)
				{
					beja.push(Beja[i].attributes[0].value);
					Beja[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < Braga.length; i++)
				{
					braga.push(Braga[i].attributes[0].value);
					Braga[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < Braganca.length; i++)
				{
					braganca.push(Braganca[i].attributes[0].value);
					Braganca[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < CB.length; i++)
				{
					cb.push(CB[i].attributes[0].value);
					CB[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < Coimbra.length; i++)
				{
					coimbra.push(Coimbra[i].attributes[0].value);
					Coimbra[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < Evora.length; i++)
				{
					evora.push(Evora[i].attributes[0].value);
					Evora[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < Faro.length; i++)
				{
					faro.push(Faro[i].attributes[0].value);
					Faro[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < Guarda.length; i++)
				{
					guarda.push(Guarda[i].attributes[0].value);
					Guarda[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < Leiria.length; i++)
				{
					leiria.push(Leiria[i].attributes[0].value);
					Leiria[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < Lisboa.length; i++)
				{
					lisboa.push(Lisboa[i].attributes[0].value);
					Lisboa[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < Portalegre.length; i++)
				{
					portalegre.push(Portalegre[i].attributes[0].value);
					Portalegre[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < Porto.length; i++)
				{
					porto.push(Porto[i].attributes[0].value);
					Porto[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < Santarem.length; i++)
				{
					santarem.push(Santarem[i].attributes[0].value);
					Santarem[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < Setubal.length; i++)
				{
					setubal.push(Setubal[i].attributes[0].value);
					Setubal[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < VC.length; i++)
				{
					vc.push(VC[i].attributes[0].value);
					VC[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < VR.length; i++)
				{
					vr.push(VR[i].attributes[0].value);
					VR[i].attributes[0].value = "";
				}
				
				for(let i = 0; i < Viseu.length; i++)
				{
					viseu.push(Viseu[i].attributes[0].value);
					Viseu[i].attributes[0].value = "";
				}
				//let show = arr =>  {for(let i = 0; i < arr.length; i++) arr.item(i).style.visibility = "visible"; };
				//let hide = arr =>  {for(let i = 0; i < arr.length; i++) arr.item(i).style.visibility = "hidden"; };
					
				for(let i = 0; i < Distritos.length; i++)
				{
					Distritos.item(i).addEventListener("click", function(el) 
					{
						let x = el.clientX;
						let y = el.clientY;
						
						span.innerHTML = el.target.id;
						
						function clean()
						{
							for(let i = 0; i < Aveiro.length; i++)
								Aveiro[i].attributes[0].value = "";
								
							for(let i = 0; i < Beja.length; i++)
								Beja[i].attributes[0].value = "";
								
							for(let i = 0; i < Braga.length; i++)
								Braga[i].attributes[0].value = "";
								
							for(let i = 0; i < Braganca.length; i++)
								Braganca[i].attributes[0].value = "";
								
							for(let i = 0; i < CB.length; i++)
								CB[i].attributes[0].value = "";
								
							for(let i = 0; i < Coimbra.length; i++)
								Coimbra[i].attributes[0].value = "";
								
							for(let i = 0; i < Evora.length; i++)
								Evora[i].attributes[0].value = "";
								
							for(let i = 0; i < Faro.length; i++)
								Faro[i].attributes[0].value = "";
								
							for(let i = 0; i < Guarda.length; i++)
								Guarda[i].attributes[0].value = "";
								
							for(let i = 0; i < Leiria.length; i++)
								Leiria[i].attributes[0].value = "";
								
							for(let i = 0; i < Lisboa.length; i++)
								Lisboa[i].attributes[0].value = "";
								
							for(let i = 0; i < Portalegre.length; i++)
								Portalegre[i].attributes[0].value = "";
								
							for(let i = 0; i < Porto.length; i++)
								Porto[i].attributes[0].value = "";
								
							for(let i = 0; i < Santarem.length; i++)
								Santarem[i].attributes[0].value = "";
								
							for(let i = 0; i < Setubal.length; i++)
								Setubal[i].attributes[0].value = "";
								
							for(let i = 0; i < VC.length; i++)
								VC[i].attributes[0].value = "";
								
							for(let i = 0; i < VR.length; i++)
								VR[i].attributes[0].value = "";
								
							for(let i = 0; i < Viseu.length; i++)
								Viseu[i].attributes[0].value = "";
						}
						
						btn.addEventListener("click", () => { 
							clean(); 
							span.innerHTML = ""; 
							svgDoc.children[0].setAttribute(`viewBox`, `0 0 ${width} ${height}`);
						}); 
						
						switch(el.target.id) 
						{
							case('AVEIRO') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${128-50} ${102-60} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < Aveiro.length; j++)
								{
									Aveiro[j].attributes[0].value = aveiro[j];
									Aveiro.item(j).addEventListener("click", av => span.innerHTML = av.target.id);
								}
								break;
							}
							
							case('BEJA') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${155-50} ${303-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < Beja.length; j++)
								{
									Beja[j].attributes[0].value = beja[j];
									Beja.item(j).addEventListener("click", bj => span.innerHTML = bj.target.id);
								}
								break;
							}
							
							case('BRAGA') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${136-50} ${47-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < Braga.length; j++)
								{
									Braga[j].attributes[0].value = braga[j];
									Braga.item(j).addEventListener("click", br => span.innerHTML = br.target.id);
								}
								break;
							}
							
							case('BRAGANÃ‡A') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${213-50} ${49-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < Braganca.length; j++)
								{
									Braganca[j].attributes[0].value = braganca[j];
									Braganca.item(j).addEventListener("click", brgn => span.innerHTML = brgn.target.id);
								}
								break;
							}
							
							case('CASTELO BRANCO') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${180-50} ${157-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < CB.length; j++)
								{
									CB[j].attributes[0].value = cb[j];
									CB.item(j).addEventListener("click", cbran => span.innerHTML = cbran.target.id);
								}
								break;
							}
							
							case('COIMBRA') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${138-50} ${141-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < Coimbra.length; j++)
								{
									Coimbra[j].attributes[0].value = coimbra[j];
									Coimbra.item(j).addEventListener("click", coi => span.innerHTML = coi.target.id);
								}
								break;
							}
							
							case('EVORA') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${164-50} ${249-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < Evora.length; j++)
								{
									Evora[j].attributes[0].value = evora[j];
									Evora.item(j).addEventListener("click", ev => span.innerHTML = ev.target.id);
								}
								break;
							}
							
							case('FARO') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${144-50} ${345-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < Faro.length; j++)
								{
									Faro[j].attributes[0].value = faro[j];
									Faro.item(j).addEventListener("click", far => span.innerHTML = far.target.id);
								}
								break;
							}
							
							case('GUARDA') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${194-50} ${103-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < Guarda.length; j++)
								{
									Guarda[j].attributes[0].value = guarda[j];
									Guarda.item(j).addEventListener("click", grd => span.innerHTML = grd.target.id);
								}
								break;
							}
							
							case('LEIRIA') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${112-50} ${174-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < Leiria.length; j++)
								{
									Leiria[j].attributes[0].value = leiria[j];
									Leiria.item(j).addEventListener("click", lei => span.innerHTML = lei.target.id);
								}
								break;
							}
							
							case('LISBOA') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${88-50} ${223-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < Lisboa.length; j++)
								{
									Lisboa[j].attributes[0].value = lisboa[j];
									Lisboa.item(j).addEventListener("click", lx => span.innerHTML = lx.target.id);
								}
								break;
							}
							
							case('PORTALEGRE') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${174-50} ${204-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < Portalegre.length; j++)
								{
									Portalegre[j].attributes[0].value = portalegre[j];
									Portalegre.item(j).addEventListener("click", pa => span.innerHTML = pa.target.id);
								}
								break;
							}
							
							case('PORTO') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${134-50} ${70-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < Porto.length; j++)
								{
									Porto[j].attributes[0].value = porto[j];
									Porto.item(j).addEventListener("click", prt => span.innerHTML = prt.target.id);
								}
								break;
							}
							
							case('SANTAREM') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${126-50} ${204-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < Santarem.length; j++)
								{
									Santarem[j].attributes[0].value = santarem[j];
									Santarem.item(j).addEventListener("click", san => span.innerHTML = san.target.id);
								}
								break;
							}
							
							case('SETUBAL') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${120-50} ${270-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < Setubal.length; j++)
								{
									Setubal[j].attributes[0].value = setubal[j];
									Setubal.item(j).addEventListener("click", set => span.innerHTML = set.target.id);
								}
								break;
							}
							
							case('VIANA DO CASTELO') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${129-50} ${23-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < VC.length; j++)
								{
									VC[j].attributes[0].value = vc[j];
									VC.item(j).addEventListener("click", vcast => span.innerHTML = vcast.target.id);
								}
								break;
							}
							
							case('VILA REAL') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${173-50} ${46-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < VR.length; j++)
								{
									VR[j].attributes[0].value = vr[j];
									VR.item(j).addEventListener("click", vreal => span.innerHTML = vreal.target.id);
								}
								break;
							}
							
							case('VISEU') : 
							{
								clean();
								svgDoc.children[0].setAttribute(`viewBox`, `${162-50} ${100-70} ${width/2.72} ${height/2.72}`);
								for(let j = 0; j < Viseu.length; j++)
								{
									Viseu[j].attributes[0].value = viseu[j];
									Viseu.item(j).addEventListener("click", vis => span.innerHTML = vis.target.id);
								}
								break;
							}
							default : { clean(); svgDoc.children[0].setAttribute(`viewBox`, `0 0 ${width} ${height}`); }
						}
					});
				}
					
			}, 500);			
		</script>
    </body>
</html>